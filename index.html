<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ü–∏–∫–ü–∏–∫ –ì–æ—Ä–æ–¥—Å–∫–∞—è –ö–∞—Ä—Ç–∞</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <script src="https://api-maps.yandex.ru/2.1/?lang=ru_RU" type="text/javascript"></script>
  <style>
    body { margin: 0; font-family: sans-serif; background: #f4f4f4; }
    #map { width: 100%; height: 400px; }
    .filters {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 10px;
      padding: 10px;
      background: white;
    }
    .filters button {
      padding: 8px 14px;
      border-radius: 20px;
      border: none;
      font-weight: bold;
      cursor: pointer;
      color: white;
    }
    .cafe { background-color: #8B4513; }
    .beauty { background-color: deeppink; }
    .fruit { background-color: green; }
    .section { background-color: blue; }
    .mystery { background-color: black; }

    .locations {
      padding: 15px;
    }
    .card {
      background: white;
      padding: 10px;
      border-radius: 10px;
      margin-bottom: 10px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .card .title {
      font-weight: bold;
    }
  </style>
</head>
<body>

<div id="map"></div>

<div class="filters">
  <button onclick="showAll()" style="background-color: gray;">üìç –í—Å–µ</button>
  <button class="cafe" onclick="filterMarkers('cafe')">‚òï –ö–∞—Ñ–µ</button>
  <button class="beauty" onclick="filterMarkers('beauty')">üíÖ –ö—Ä–∞—Å–æ—Ç–∞</button>
  <button class="fruit" onclick="filterMarkers('fruit')">üçé –§—Ä—É–∫—Ç—ã/–æ–≤–æ—â–∏</button>
  <button class="section" onclick="filterMarkers('section')">üèÉ‚Äç‚ôÇÔ∏è –°–µ–∫—Ü–∏–∏</button>
  <button class="mystery" onclick="filterMarkers('mystery')">‚ùì –ò–Ω–∫–æ–≥–Ω–∏—Ç–æ</button>
</div>


<div class="locations">
  <h2>üìç –ü—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è —Ä—è–¥–æ–º:</h2>
  <div class="card"><span class="title">‚òï –ö–æ—Ñ–µ–õ–∞–≤–∫–∞</span><br>–õ—É—á—à–∏–π –∫–∞–ø—É—á–∏–Ω–æ –≤ —Ä–∞–π–æ–Ω–µ</div>
  <div class="card"><span class="title">üíÖ –°–∞–ª–æ–Ω "–õ–∞–π–º"</span><br>–ú–∞–Ω–∏–∫—é—Ä –∏ —Å—Ç—Ä–∏–∂–∫–∏</div>
  <div class="card"><span class="title">üçé –≠–∫–æ–õ–∞–≤–∫–∞</span><br>–§—Ä—É–∫—Ç—ã –∏ –æ–≤–æ—â–∏ –æ—Ç —Ñ–µ—Ä–º–µ—Ä–æ–≤</div>
  <div class="card"><span class="title">üèÉ‚Äç‚ôÇÔ∏è –§—É—Ç–±–æ–ª-–î–µ—Ç—è–º</span><br>–î–µ—Ç—Å–∫–∞—è —Ñ—É—Ç–±–æ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è</div>
  <div class="card"><span class="title">‚ùì –ò–Ω–∫–æ–≥–Ω–∏—Ç–æ</span><br>–ü—Ä–æ–≤–µ—Ä—å —Ç–æ—á–∫—É –∏ –ø–æ–ª—É—á–∏ üéÅ –ü–∏–∫–ü–∏–∫-–±–æ–Ω—É—Å</div>
</div>

<script>
  let map;
  let markers = [];

  const locations = [
    {
      coords: [47.2547, 39.7239],
      category: 'cafe',
      title: '–ö–æ—Ñ–µ–õ–∞–≤–∫–∞',
      desc: '–õ—É—á—à–∏–π –∫–∞–ø—É—á–∏–Ω–æ –≤ —Ä–∞–π–æ–Ω–µ',
      color: '#8B4513'
    },
    {
      coords: [47.2555, 39.7245],
      category: 'beauty',
      title: '–°–∞–ª–æ–Ω "–õ–∞–π–º"',
      desc: '–ú–∞–Ω–∏–∫—é—Ä –∏ —Å—Ç—Ä–∏–∂–∫–∏',
      color: 'deeppink'
    },
    {
      coords: [47.2563, 39.7255],
      category: 'fruit',
      title: '–≠–∫–æ–õ–∞–≤–∫–∞',
      desc: '–§—Ä—É–∫—Ç—ã –∏ –æ–≤–æ—â–∏ –æ—Ç —Ñ–µ—Ä–º–µ—Ä–æ–≤',
      color: 'green'
    },
    {
      coords: [47.2540, 39.7262],
      category: 'section',
      title: '–§—É—Ç–±–æ–ª-–î–µ—Ç—è–º',
      desc: '–î–µ—Ç—Å–∫–∞—è —Ñ—É—Ç–±–æ–ª—å–Ω–∞—è —Å–µ–∫—Ü–∏—è',
      color: 'blue'
    },
    {
      coords: [47.2558, 39.7275],
      category: 'mystery',
      title: '–ò–Ω–∫–æ–≥–Ω–∏—Ç–æ ???',
      desc: '–ü—Ä–æ–≤–µ—Ä—å —ç—Ç—É —Ç–æ—á–∫—É –∏ –ø–æ–ª—É—á–∏ –ü–∏–∫–ü–∏–∫-–±–æ–Ω—É—Å!',
      color: 'black'
    }
  ];

  function showAll() {
  markers.forEach(m => {
    m.options.set('visible', true);
  });
  }

  function init() {
    map = new ymaps.Map("map", {
      center: [47.2550, 39.7240],
      zoom: 16
    });

    navigator.geolocation.getCurrentPosition(pos => {
      const coords = [pos.coords.latitude, pos.coords.longitude];
      const user = new ymaps.Placemark(coords, {
        balloonContent: "–í—ã –∑–¥–µ—Å—å"
      }, {
        preset: 'islands#circleIcon',
        iconColor: 'red'
      });
      map.geoObjects.add(user);
    });

    locations.forEach(loc => {
      const mark = new ymaps.Placemark(loc.coords, {
        balloonContent: `<b>${loc.title}</b><br>${loc.desc}<br><br>` +
          (loc.category === 'mystery'
            ? '<button onclick="alert(\'+1 –ü–∏–∫–ü–∏–∫-–±–æ–Ω—É—Å! üèÜ\')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>'
            : '')
      }, {
        preset: 'islands#circleDotIcon',
        iconColor: loc.color
      });
      mark.properties.set('category', loc.category);
      mark.options.set('visible', true);
      map.geoObjects.add(mark);
      markers.push(mark);
    });
  }

  function filterMarkers(cat) {
    markers.forEach(m => {
      m.options.set('visible', m.properties.get('category') === cat);
    });
  }

  ymaps.ready(init);
</script>

</body>
</html>
